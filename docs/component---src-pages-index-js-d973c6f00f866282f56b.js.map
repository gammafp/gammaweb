{"version":3,"sources":["webpack:///./src/components/NewBlogs/NewBlogs.jsx","webpack:///./src/pages/index.js"],"names":["NewBlogs","posts","postsInIndexPage","i18n","useTranslation","posts_lang","filter","edge","i","node","fields","slug","startsWith","language","useEffect","Observer","emit","GLOBAL_EVENT","INDEX_POSTS_LOADED","className","map","post","excerpt","frontmatter","description","tags","tag","cover","publicURL","Card","key","title","Index","data","location","siteTitle","site","siteMetadata","allMarkdownRemark","edges","Header","pageQuery"],"mappings":"2NA8CeA,EAxCE,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,MAAOC,EAAuB,EAAvBA,iBACjBC,EAASC,cAATD,KACFE,EAAaJ,EAAMK,QAAO,SAACC,EAAMC,GACrC,OAAQD,EAAKE,KAAKC,OAAOC,KAAKC,WAAtB,IAAqCT,EAAKU,SAA1C,QAOV,OAJAC,qBAAU,WACRC,IAASC,KAAKC,IAAaC,uBAI3B,oCACA,wBAAIC,UAAU,uCAAd,cAGA,yBAAKA,UAAU,0DAEXd,EAAWe,KAAI,SAACC,EAAMb,GACpB,IAAMC,EAAOY,EAAKZ,KACZa,EAA4C,OAAjCb,EAAKc,YAAYC,YAAwBf,EAAKc,YAAYC,YAAcf,EAAKa,QAC9F,GAA8B,OAA1Bb,EAAKc,YAAYE,MAAiBjB,EAAIN,EAAkB,CAC1D,IAAMwB,EAAMjB,EAAKc,YAAYE,KAAK,GAC5BE,EAASlB,EAAKc,YAAYI,MAASlB,EAAKc,YAAYI,MAAMC,UAAY,KAC5E,OAAO,kBAACC,EAAA,EAAD,CAAMV,UAAU,4BAA4BW,IAAKtB,EACpDG,KAAMF,EAAKC,OAAOC,KAClBoB,MAAOtB,EAAKc,YAAYQ,MACxBT,QAASA,EACTI,IAAKA,EACLC,MAAOA,IAGX,OAAO,WCrCnB,0CAuBeK,UAbD,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,SACfC,EAAYF,EAAKG,KAAKC,aAAaN,MACnC9B,EAAQgC,EAAKK,kBAAkBC,MAC/BrC,EAAmB+B,EAAKG,KAAKC,aAAanC,iBAChD,OACE,kBAAC,IAAD,CAAQgC,SAAUA,EAAUH,MAAOI,GACjC,kBAAC,IAAD,CAAKJ,MAAM,SACX,kBAACS,EAAA,EAAD,MACA,kBAAC,EAAD,CAAUvC,MAAOA,EAAOC,iBAAkBA,MARhD,IAeauC,EAAS","file":"component---src-pages-index-js-d973c6f00f866282f56b.js","sourcesContent":["// Componente para mostrar un nÃºmero de posts determinado\r\nimport React, { useEffect } from 'react';\r\nimport Card from '../Card/Card';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Observer, GLOBAL_EVENT } from '../../Observer';\r\n\r\nconst NewBlogs = ({ posts, postsInIndexPage }) => {\r\n  const { i18n } = useTranslation();\r\n  const posts_lang = posts.filter((edge, i) => {\r\n    return (edge.node.fields.slug.startsWith(`/${i18n.language}/`));\r\n  });\r\n\r\n  useEffect(() => {\r\n    Observer.emit(GLOBAL_EVENT.INDEX_POSTS_LOADED);\r\n  });\r\n\r\n  return (\r\n    <>\r\n    <h3 className=\"text-primary-color text-center mt-3\">\r\n      Last Posts\r\n    </h3>\r\n    <div className=\"card-deck justify-content-center text-center mt-3 mr-0\">\r\n      {\r\n        posts_lang.map((post, i) => {\r\n          const node = post.node;\r\n          const excerpt = (node.frontmatter.description !== null) ? node.frontmatter.description : node.excerpt;\r\n          if (node.frontmatter.tags !== null && i < postsInIndexPage) {\r\n            const tag = node.frontmatter.tags[0];\r\n            const cover = (node.frontmatter.cover) ? node.frontmatter.cover.publicURL : null;\r\n            return <Card className=\"mx-0 mx-sm-2 my-1 my-sm-3\" key={i}\r\n                slug={node.fields.slug}\r\n                title={node.frontmatter.title}\r\n                excerpt={excerpt}\r\n                tag={tag}\r\n                cover={cover}\r\n              />;\r\n          } else {\r\n            return null;\r\n          }\r\n        })\r\n      }\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default NewBlogs;\r\n","import React from \"react\";\r\nimport { graphql } from \"gatsby\";\r\n\r\nimport Layout from \"../components/layout\";\r\nimport SEO from \"../components/seo\";\r\n\r\nimport '../styles/global.scss'\r\nimport { Header } from \"../components/Header/Header\";\r\nimport NewBlogs from \"../components/NewBlogs/NewBlogs\";\r\n\r\nconst Index = ({ data, location }) => {\r\n  const siteTitle = data.site.siteMetadata.title;\r\n  const posts = data.allMarkdownRemark.edges;\r\n  const postsInIndexPage = data.site.siteMetadata.postsInIndexPage;\r\n  return (\r\n    <Layout location={location} title={siteTitle}>\r\n      <SEO title=\"Home\" />\r\n      <Header />\r\n      <NewBlogs posts={posts} postsInIndexPage={postsInIndexPage}/>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default Index\r\n\r\nexport const pageQuery = graphql`\r\nquery {\r\n  site {\r\n    siteMetadata {\r\n      title\r\n      postsInIndexPage\r\n    }\r\n  }\r\n  allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\r\n    edges {\r\n      node {\r\n        excerpt\r\n        fields {\r\n          slug\r\n        }\r\n        frontmatter {\r\n          date(formatString: \"MMMM DD, YYYY\")\r\n          title\r\n          description\r\n          tags\r\n          cover {\r\n            publicURL\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n`\r\n"],"sourceRoot":""}